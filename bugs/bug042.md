# BUG-042: Unnecessary Re-export Files Creating Circular Dependencies

**Status**: Open  
**Severity**: Low  
**Priority**: P3 (Low)  
**Component**: Code Organization  
**Reported Date**: 2025-01-20  
**Reporter**: Phase-2 Audit  
**Assignee**: Unassigned  

## Summary
Multiple index.ts files serving only as re-export points add unnecessary complexity and potential for circular dependencies.

## Description
The codebase contains numerous index.ts files that only re-export from other modules:
- `src/mcp/state/index.ts`
- `src/mcp/tools/index.ts`
- `src/mcp/handlers/index.ts`
- Various subdirectory index files

These files:
- Add an extra layer of indirection
- Can create circular dependency issues
- Make import paths less clear
- Provide no additional value

## Steps to Reproduce
1. Examine index.ts files throughout the codebase
2. Check for circular dependency warnings
3. Expected result: Direct imports from source files
4. Actual result: Indirect imports through index files

## Expected Behavior
Direct imports from source files:
```typescript
import { StateRepository } from './state/repository';
import { LRUCache } from './state/lru-cache';
```

## Actual Behavior
Indirect imports through index files:
```typescript
import { StateRepository, LRUCache } from './state';
```

## Environment
- **OS**: All
- **Node.js Version**: v20.x
- **Project Version/Commit**: bug/001-fix branch

## Root Cause Analysis
- **File(s)**: Multiple index.ts files throughout codebase
- **Cause**: Overuse of barrel exports pattern without clear benefit

## Proposed Solution
```typescript
// Remove unnecessary index.ts files
// Update imports to be direct:

// Before:
import { StateRepository, LRUCache } from '../state';

// After:
import { StateRepository } from '../state/repository';
import { LRUCache } from '../state/lru-cache';

// Only keep index.ts for true public APIs that need controlled exports
```

## Test Cases
- [ ] No circular dependencies after cleanup
- [ ] All imports resolve correctly
- [ ] Build succeeds without errors
- [ ] IDE auto-imports work properly

## Related Issues
- Related to: Code organization and clarity

## Acceptance Criteria
- [ ] Unnecessary index.ts files removed
- [ ] Direct imports used throughout
- [ ] No circular dependency warnings
- [ ] Import statements more explicit

---
**Labels**: bug, code-organization, low-priority, cleanup