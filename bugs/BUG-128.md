# BUG-128: Test Failures Due to Configuration Validation

## Summary
Multiple tests are failing because the new configuration validation is too strict and rejects configurations that were previously valid in tests.

## Severity
Medium - Affects test reliability and CI/CD pipeline

## Description
The integration of configuration validation into the EventCacheManager constructor is causing test failures:

### Issues Found:
1. **Strict Memory Limits**: Tests using small memory limits (< 10MB) now fail
2. **Strict Interval Limits**: Tests using small intervals (< 1000ms) now fail
3. **Validation Integration**: All EventCacheManager instantiations now validate config
4. **Test Configuration**: Many tests use minimal configurations for testing

### Specific Test Failures:
- `manager-memory.test.ts`: "globalMemoryLimitMB must be at least 10MB"
- `compression.test.ts`: "memoryCheckIntervalMs must be at least 1000ms"
- Multiple other tests with similar validation errors

## Impact
- 42 test failures across multiple test suites
- CI/CD pipeline failing
- Test reliability compromised
- Development workflow disrupted

## Steps to Reproduce
1. Run `npm test`
2. Observe 42 test failures with validation error messages

## Root Cause
The configuration validation was integrated into the EventCacheManager constructor without considering that tests often use minimal configurations that don't meet production requirements.

## Expected Behavior
Tests should either:
1. Use configurations that pass validation
2. Have a way to bypass validation for testing
3. Use separate test-specific validation rules

## Suggested Fix
1. Add a test mode to EventCacheManager that bypasses validation
2. Update test configurations to meet validation requirements
3. Create test-specific validation rules
4. Add configuration presets for different environments (test, dev, prod)

## Files Affected
- `src/mcp/state/event-cache/manager.ts` (validation integration)
- Multiple test files that instantiate EventCacheManager
- Test configuration files

## Notes
This is a validation integration issue. The validation logic is correct for production but too strict for testing scenarios that use minimal configurations. 