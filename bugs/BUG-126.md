# BUG-126: Type safety warnings on EventCacheConfig parameter

**Status**: Open  
**Severity**: Low  
**Priority**: P3 (Low)  
**Component**: Event Cache / Config Validator  
**Reported Date**: 2025-07-27  
**Reporter**: STEP-3.2 Audit  
**Assignee**: Unassigned

## Summary

ESLint reports 85 type safety warnings in config-validator.ts related to unsafe member access on the EventCacheConfig parameter.

## Description

The config parameter is typed as EventCacheConfig but ESLint treats it as having `error` type in many places, causing numerous "Unsafe member access" warnings.

## Steps to Reproduce

1. Run `npm run lint`
2. Check warnings for config-validator.ts
3. See multiple "Unsafe member access on an `error` typed value" warnings

## Expected Behavior

No type safety warnings when accessing properties of a properly typed parameter.

## Actual Behavior

85 warnings about unsafe member access, unsafe assignments, and unsafe arguments.

## Environment

- **OS**: macOS 24.5.0
- **Node.js Version**: As configured in project
- **Project Version/Commit**: feature/step-3-2-config-validation branch

## Error Logs/Stack Trace

```
16:14  warning  Unsafe member access .globalMemoryLimitMB on an `error` typed value
18:21  warning  Unsafe member access .globalMemoryLimitMB on an `error` typed value
23:14  warning  Unsafe member access .maxEvents on an `error` typed value
... (82 more similar warnings)
```

## Root Cause Analysis

- **File(s)**: src/mcp/state/event-cache/config-validator.ts
- **Cause**: ESLint's type inference is confused about the parameter type

## Proposed Solution

1. Add explicit type guards
2. Use optional chaining more consistently
3. Consider adding runtime type validation
4. Review ESLint configuration for type checking rules

## Workaround

Code functions correctly despite warnings. Warnings are false positives.

## Related Issues

- BUG-124: Overall ESLint warnings
- BUG-125: High complexity in same function

## Acceptance Criteria

- [ ] Zero type safety warnings in config-validator.ts
- [ ] Validation logic unchanged
- [ ] All tests still pass

---

**Labels**: bug, typescript, eslint, low  
**Milestone**: Technical Debt